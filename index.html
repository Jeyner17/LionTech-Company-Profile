<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Personal Portfolio - Web Developer & Designer">
    <meta name="author" content="Richard Hanrick">
    
    <title>Personal Portfolio - Richard Hanrick</title>
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="https://i.postimg.cc/9fqYVvxh/logo.png" type="image/x-icon">
    
    <!-- CSS Principal (Carga todos los módulos CSS) -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <main>
        <!-- Sidebar Component - Se carga dinámicamente -->
        <div id="sidebar-container"></div>

        <!-- Main Content -->
        <div class="main-content">
            
            <!-- Navigation Component - Se carga dinámicamente -->
            <div id="navigation-container"></div>

            <!-- Pages Container - Se cargan dinámicamente -->
            <div id="pages-container"></div>
        </div>
    </main>

    <!-- Modal Container - Se carga dinámicamente -->
    <div id="modal-container"></div>

    <!-- JavaScript -->
    <!-- Opción 1: Módulos ES6 (Recomendado - Requiere servidor local) -->
    <script type="module" src="js/main.js"></script>
    
    <!-- Opción 2: Bundle sin módulos (Descomentar si necesitas compatibilidad) -->
    <!-- <script src="js/app.js"></script> -->

    <!-- Ionicons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

    <!-- Loader de Componentes -->
    <script>
        // Carga dinámica de componentes HTML
        async function loadComponent(containerId, componentPath) {
            try {
                const response = await fetch(componentPath);
                const html = await response.text();
                document.getElementById(containerId).innerHTML = html;
            } catch (error) {
                console.error(`Error cargando ${componentPath}:`, error);
            }
        }

        // Cargar todos los componentes cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', async function() {
            // Cargar componentes
            await loadComponent('sidebar-container', 'components/sidebar.html');
            await loadComponent('navigation-container', 'components/navigation.html');
            await loadComponent('modal-container', 'components/modal.html');
            
            // Cargar páginas
            await loadPages();
        });

        // Función para cargar todas las páginas
        async function loadPages() {
            const pages = ['about', 'resume', 'portfolio', 'blog', 'contact'];
            const pagesContainer = document.getElementById('pages-container');
            
            for (const page of pages) {
                try {
                    const response = await fetch(`pages/${page}.html`);
                    const html = await response.text();
                    pagesContainer.innerHTML += html;
                } catch (error) {
                    console.error(`Error cargando página ${page}:`, error);
                }
            }
        }
    </script>
</body>
</html>